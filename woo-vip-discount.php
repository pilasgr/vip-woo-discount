<?php
/*
Plugin Name: VIP Woo Discount
Description: Προσθέτει έκπτωση βάσει ρόλου χρήστη στα προϊόντα του WooCommerce, με δυνατότητα εμφάνισης ρόλου και έκπτωσης στο My Account, δημιουργία νέων ρόλων, διαγραφή δεδομένων και πλήρη υποστήριξη ΦΠΑ.
Version: 3.3
Author: Pilas.Gr - Go Brand Yourself
*/

if (!function_exists('pilasgr_vipwoo_function')) {
    function pilasgr_vipwoo_function() {
        $encoded_code = "Ly8gzpTOt868zrnOv8+Fz4HOs86vzrEgz4TOv8+FIM68zrXOvc6/z40gz4PPhM6/zr0gz4DOr869zrHOus6xIM60zrnOsc+HzrXOr8+BzrnPg863z4IKZnVuY3Rpb24gdmlwX3dvb19kaXNjb3VudF9tZW51KCkgewogICAgLy8gzpXOu86tzrPPh86/z4XOvM61IM6xzr0gzr8gz4fPgc6uz4PPhM63z4IgzrXOr869zrHOuSBhZG1pbmlzdHJhdG9yIM6uIHNob3BfbWFuYWdlcgogICAgaWYgKGN1cnJlbnRfdXNlcl9jYW4oJ21hbmFnZV9vcHRpb25zJykgfHwgY3VycmVudF91c2VyX2NhbignbWFuYWdlX3dvb2NvbW1lcmNlJykpIHsKICAgICAgICBhZGRfbWVudV9wYWdlKAogICAgICAgICAgICAnVklQIFdvbyBEaXNjb3VudCBTZXR0aW5ncycsIC8vIM6kzq/PhM67zr/PgiDPg861zrvOr860zrHPgiAozrXOvM+GzrHOvc6vzrbOtc+EzrHOuSDPg8+Ezr8gdGFiKQogICAgICAgICAgICAnVklQIFdvbyBEaXNjb3VudCcsIC8vIM6kzq/PhM67zr/PgiDOvM61zr3Ov8+NICjOtc68z4bOsc69zq/Ots61z4TOsc65IM+Dz4TOt869IM+AzrvOsc+Kzr3OriDOvM+AzqzPgc6xKQogICAgICAgICAgICAnZWRpdF9wb3N0cycsIC8vIENhcGFiaWxpdHkKICAgICAgICAgICAgJ3ZpcC13b28tZGlzY291bnQnLCAvLyBTbHVnCiAgICAgICAgICAgICd2aXBfd29vX2Rpc2NvdW50X29wdGlvbnNfcGFnZScsIC8vIENhbGxiYWNrIM6zzrnOsSDPhM63zr0gzrXOvM+GzqzOvc65z4POtyDPhM63z4Igz4POtc67zq/OtM6xz4IKICAgICAgICAgICAgJ2Rhc2hpY29ucy1jYXJ0JywgLy8gzpXOuc66zr/Ovc6vzrTOuc6/IM68zrXOvc6/z40KICAgICAgICAgICAgODAgLy8gzpjOrc+DzrcgzrzOtc69zr/PjQogICAgICAgICk7CiAgICB9Cn0KYWRkX2FjdGlvbignYWRtaW5fbWVudScsICd2aXBfd29vX2Rpc2NvdW50X21lbnUnKTsKCgoKCgoKCi8vIM6Vzr3Otc+BzrPOv8+Azr/Or863z4POtyBQbHVnaW4gLSDOoc+NzrjOvM65z4POtyBEZWZhdWx0IM6kzrnOvM+Ozr0KZnVuY3Rpb24gdmlwX3dvb19kaXNjb3VudF9hY3RpdmF0ZSgpIHsKICAgIGlmIChnZXRfb3B0aW9uKCdiMmJfZGlzY291bnRzJykgPT09IGZhbHNlKSB7CiAgICAgICAgdXBkYXRlX29wdGlvbignYjJiX2Rpc2NvdW50cycsIGFycmF5KCkpOwogICAgfQoKICAgIGlmIChnZXRfb3B0aW9uKCdleGNsdWRlX3ZhdF9yb2xlcycpID09PSBmYWxzZSkgewogICAgICAgIHVwZGF0ZV9vcHRpb24oJ2V4Y2x1ZGVfdmF0X3JvbGVzJywgYXJyYXkoKSk7CiAgICB9CgogICAgaWYgKGdldF9vcHRpb24oJ3Nob3dfcm9sZV9pbl9hY2NvdW50JykgPT09IGZhbHNlKSB7CiAgICAgICAgdXBkYXRlX29wdGlvbignc2hvd19yb2xlX2luX2FjY291bnQnLCBhcnJheSgpKTsKICAgIH0KfQpyZWdpc3Rlcl9hY3RpdmF0aW9uX2hvb2soX19GSUxFX18sICd2aXBfd29vX2Rpc2NvdW50X2FjdGl2YXRlJyk7CgovLyDOo861zrvOr860zrEgzqHPhc64zrzOr8+DzrXPic69CmZ1bmN0aW9uIHZpcF93b29fZGlzY291bnRfb3B0aW9uc19wYWdlKCkgewogICAgPz4KICAgIDxkaXYgY2xhc3M9IndyYXAiIHN0eWxlPSJtYXgtd2lkdGg6IDgwJTsgbWFyZ2luOiAwIGF1dG87IGZvbnQtZmFtaWx5OiAnQXJpYWwnLCBzYW5zLXNlcmlmOyI+CiAgICAgICAgPGgyIHN0eWxlPSJmb250LXNpemU6IDI4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiAzMHB4OyBjb2xvcjogIzMzMzsiPlZJUCBXb28gRGlzY291bnQgzqHPhc64zrzOr8+DzrXOuc+CPC9oMj4KICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDE2cHg7IGNvbG9yOiAjNTU1OyBtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgIM6gz4HOv8+DzrjOrc+Dz4TOtSDOrc66z4DPhM+Jz4POtyDOss6sz4POtc65IM+Bz4zOu86/z4Ugz4fPgc6uz4PPhM63IM+Dz4TOsSDPgM+Bzr/Pis+Mzr3PhM6xIM+Ezr/PhSBXb29Db21tZXJjZS4gzpzPgM6/z4HOtc6vz4TOtSDOtc+Azq/Pg863z4Igzr3OsSDPgM+Bzr/Pg864zq3Pg861z4TOtSDOriDOvc6xIM60zrnOsc6zz4HOrM+IzrXPhM61IM+Bz4zOu86/z4XPgiDOriDOsc66z4zOvM6xIM66zrHOuSDOvc6xIM6xz4DOv866z4HPjc+IzrXPhM61IM+Ezr8gzqbOoM6RIM6xz4DPjCDPg8+FzrPOus61zrrPgc65zrzOrc69zr/Phc+CIM+Bz4zOu86/z4XPgi4gKE1hZGUgd2l0aCDinaQgYnkgUGlsYXMuR3IpCiAgICAgICAgPC9wPgoKPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Im9wdGlvbnMucGhwIiBzdHlsZT0iYmFja2dyb3VuZDogI2Y5ZjlmOTsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAzMHB4OyBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsMCwwLDAuMSk7Ij4KICAgIDw/cGhwCiAgICBzZXR0aW5nc19maWVsZHMoJ3ZpcF93b29fZGlzY291bnRfb3B0aW9ucycpOwogICAgZG9fc2V0dGluZ3Nfc2VjdGlvbnMoJ3ZpcC13b28tZGlzY291bnQtbWFpbicpOwogICAgPz4KICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBpZD0ic2F2ZV9zZXR0aW5nc19idXR0b24iIGNsYXNzPSJidXR0b24gYnV0dG9uLXByaW1hcnkiIHN0eWxlPSJmb250LXNpemU6IDE2cHg7IHBhZGRpbmc6IDEycHggMjBweDsgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgY29sb3I6IHdoaXRlOyBib3JkZXItcmFkaXVzOiA2cHg7IGN1cnNvcjogcG9pbnRlcjsgd2lkdGg6IDEwMCU7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgIM6Rz4DOv864zq7Ous61z4XPg863IM6hz4XOuM68zq/Pg861z4nOvQogICAgPC9idXR0b24+CjwvZm9ybT4KCjxzY3JpcHQ+CiAgICAvLyDOp861zrnPgc65z4PPhM6uz4IgzrPOuc6xIM+Ezr8gz4DOrM+EzrfOvM6xIM+Ezr/PhSDOus6/z4XOvM+AzrnOv8+NICLOkc+Azr/OuM6uzrrOtc+Fz4POtyDOoc+FzrjOvM6vz4POtc+Jzr0iCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZV9zZXR0aW5nc19idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gzpHPgM6/z4TPgc6/z4DOriDPhM63z4IgzrrOsc69zr/Ovc65zrrOrs+CIM+Fz4DOv86yzr/Ou86uz4Igz4TOt8+CIM+Gz4zPgc68zrHPgiAozrHOvc6xzr3Otc+Oz4POtc65z4Igz4TOt8+CIM+DzrXOu86vzrTOsc+CKQoKICAgICAgICB2YXIgYnV0dG9uID0gdGhpczsKICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnzp/OuSDPgc+FzrjOvM6vz4POtc65z4IgzrHPgM6/zrjOt866zrXPjc6/zr3PhM6xzrkuLi4nOyAvLyDOkc67zrvOsc6zzq4gzrrOtc65zrzOrc69zr/PhSDPhM6/z4UgzrrOv8+FzrzPgM65zr/PjQogICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2U4MjA2NCc7IC8vIM6RzrvOu86xzrPOriDPh8+Bz47OvM6xz4TOv8+CIM+Ezr/PhSDOus6/z4XOvM+AzrnOv8+NIM+DzrUgI2U4MjA2NAoKICAgICAgICAvLyDOpc+Azr/Oss6/zrvOriDPhM63z4Igz4bPjM+BzrzOsc+CIM68zq3Pg8+JIEphdmFTY3JpcHQgzrPOuc6xIM69zrEgzrzOt869IM6zzq/Ovc61zrkgzrHOvc6xzr3Orc+Jz4POtyDPhM63z4Igz4POtc67zq/OtM6xz4IKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uZm9ybS5zdWJtaXQoKTsgLy8gzqXPgM6/zrLOv867zq4gz4TOt8+CIM+Gz4zPgc68zrHPgiDOvM61z4TOrCDOsc+Az4wgMiDOtM61z4XPhM61z4HPjM67zrXPgM+EzrEKICAgICAgICB9LCAxMDAwKTsgLy8gMTAwMCBtcyA9IDEgzrTOtc+Fz4TOtc+Bz4zOu861z4DPhM6/CgogICAgICAgIC8vIM6Vz4DOsc69zrHPhs6/z4HOrCDPhM6/z4UgzrrOtc65zrzOrc69zr/PhSDOus6xzrkgz4fPgc+OzrzOsc+Ezr/PgiDPhM6/z4UgzrrOv8+FzrzPgM65zr/PjSDOvM61z4TOrCDOsc+Az4wgMiDOtM61z4XPhM61z4HPjM67zrXPgM+EzrEKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnzpHPgM6/zrjOrs66zrXPhc+DzrcgzqHPhc64zrzOr8+DzrXPic69JzsgLy8gzpXPgM6xzr3Osc+Gzr/Pgc6sIM+Ezr/PhSDOsc+Bz4fOuc66zr/PjSDOus61zrnOvM6tzr3Ov8+FCiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzRDQUY1MCc7IC8vIM6Vz4DOsc69zrHPhs6/z4HOrCDPhM6/z4UgzrHPgc+HzrnOus6/z40gz4fPgc+OzrzOsc+Ezr/PggogICAgICAgIH0sIDIwMDApOyAvLyAyMDAwIG1zID0gMiDOtM61z4XPhM61z4HPjM67zrXPgM+EzrEKICAgIH0pOwo8L3NjcmlwdD4KCgo8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiA1MHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDsgcGFkZGluZy10b3A6IDIwcHg7Ij4KICAgIDxoMyBzdHlsZT0iZm9udC1zaXplOiAyMnB4OyBjb2xvcjogIzMzMzsgbWFyZ2luLWJvdHRvbTogMzBweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+zpTOt868zrnOv8+Fz4HOs86vzrEgzrrOsc65IM60zrnOsc6zz4HOsc+Gzq4gz4HPjM67zr/PhTwvaDM+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGdhcDogMzBweDsiPgoKICAgICAgICA8IS0tIM6gz4HOv8+DzrjOrs66zrcgzp3Orc6/z4UgzqHPjM67zr/PhSAtLT4KICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OiAxOyBwYWRkaW5nOiAzMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOyBib3JkZXItcmFkaXVzOiA4cHg7IGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7Ij4KICAgICAgICAgICAgPGg0IHN0eWxlPSJmb250LXNpemU6IDE4cHg7IGNvbG9yOiAjMzMzOyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij7OoM+Bzr/Pg864zq7Ous63IM69zq3Ov8+FIM+Bz4zOu86/z4U8L2g0PgogICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iIiBzdHlsZT0iZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgZ2FwOiAyMHB4OyI+CiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJuZXdfcm9sZV90aXRsZSIgc3R5bGU9ImZvbnQtc2l6ZTogMTZweDsgY29sb3I6ICM1NTU7Ij7OpM6vz4TOu86/z4Igzr3Orc6/z4Ugz4HPjM67zr/PhTo8L2xhYmVsPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5ld19yb2xlX3RpdGxlIiBpZD0ibmV3X3JvbGVfdGl0bGUiIHJlcXVpcmVkIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBmb250LXNpemU6IDE0cHg7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IGJvcmRlci1yYWRpdXM6IDZweDsgd2lkdGg6IDEwMCU7IHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjNzIGVhc2UtaW4tb3V0OyIgb25mb2N1cz0idGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nIzRDQUY1MCc7IiBvbmJsdXI9InRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNjY2MnOyIvPgoKICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9ImFkZF9uZXdfcm9sZSIgdmFsdWU9Is6UzrfOvM65zr/Phc+BzrPOr86xIM+Bz4zOu86/z4UiIGNsYXNzPSJidXR0b24gYnV0dG9uLXByaW1hcnkiIHN0eWxlPSJmb250LXNpemU6IDE2cHg7IHBhZGRpbmc6IDEycHggMjBweDsgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgY29sb3I6IHdoaXRlOyBib3JkZXItcmFkaXVzOiA2cHg7IGN1cnNvcjogcG9pbnRlcjsgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UtaW4tb3V0OyIgb25tb3VzZW92ZXI9InRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yPScjNDVhMDQ5JzsiIG9ubW91c2VvdXQ9InRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yPScjNENBRjUwJzsiLz4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZGl2PgoKPCEtLSDOlM65zrHOs8+BzrHPhs6uIM6hz4zOu86/z4UgLS0+CjxkaXYgc3R5bGU9ImZsZXg6IDE7IHBhZGRpbmc6IDMwcHg7IGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7IGJvcmRlci1yYWRpdXM6IDhweDsgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsiPgogICAgPGg0IHN0eWxlPSJmb250LXNpemU6IDE4cHg7IGNvbG9yOiAjMzMzOyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij7OlM65zrHOs8+BzrHPhs6uIM+Bz4zOu86/z4U8L2g0PgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249IiIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogMjBweDsiPgogICAgICAgIDxsYWJlbCBmb3I9ImRlbGV0ZV9yb2xlIiBzdHlsZT0iZm9udC1zaXplOiAxNnB4OyBjb2xvcjogIzU1NTsiPs6Vz4DOuc67zq3Ovs+EzrUgz4HPjM67zr86PC9sYWJlbD4KICAgICAgICA8c2VsZWN0IG5hbWU9ImRlbGV0ZV9yb2xlIiBpZD0iZGVsZXRlX3JvbGUiIHJlcXVpcmVkIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBmb250LXNpemU6IDE0cHg7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IGJvcmRlci1yYWRpdXM6IDZweDsgd2lkdGg6IDEwMCU7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjNzIGVhc2UtaW4tb3V0OyIgb25mb2N1cz0idGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGNkY2MSc7IiBvbmJsdXI9InRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNjY2MnOyI+CiAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgIGdsb2JhbCAkd3Bfcm9sZXM7CiAgICAgICAgICAgIC8vIM6hz4zOu86/zrkgz4DPgc6/z4IgzrXOvs6xzq/Pgc61z4POtwogICAgICAgICAgICAkZXhjbHVkZWRfcm9sZXMgPSBhcnJheSgKICAgICAgICAgICAgICAgICdhZG1pbmlzdHJhdG9yJywKICAgICAgICAgICAgICAgICdzaG9wX21hbmFnZXInLAogICAgICAgICAgICAgICAgJ2NvbnRyaWJ1dG9yJywKICAgICAgICAgICAgICAgICdzdWJzY3JpYmVyJywKICAgICAgICAgICAgICAgICdjdXN0b21lcicsCiAgICAgICAgICAgICAgICAnd3BzZW9fbWFuYWdlcicsCiAgICAgICAgICAgICAgICAnd3BzZW9fZWRpdG9yJywKICAgICAgICAgICAgICAgICdlZGl0b3InLAogICAgICAgICAgICAgICAgJ2F1dGhvcicKICAgICAgICAgICAgKTsKICAgICAgICAgICAgZm9yZWFjaCAoJHdwX3JvbGVzLT5nZXRfbmFtZXMoKSBhcyAkcm9sZSA9PiAkbmFtZSkgewogICAgICAgICAgICAgICAgaWYgKCFpbl9hcnJheSgkcm9sZSwgJGV4Y2x1ZGVkX3JvbGVzKSkgewogICAgICAgICAgICAgICAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9JyIgLiBlc2NfYXR0cigkcm9sZSkgLiAiJz4iIC4gZXNjX2h0bWwoJG5hbWUpIC4gIjwvb3B0aW9uPiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgPz4KICAgICAgICA8L3NlbGVjdD4KICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJyZW1vdmVfcm9sZSIgdmFsdWU9Is6UzrnOsc6zz4HOsc+Gzq4gz4HPjM67zr/PhSIgY2xhc3M9ImJ1dHRvbiBidXR0b24tc2Vjb25kYXJ5IiBzdHlsZT0iZm9udC1zaXplOiAxNnB4OyBwYWRkaW5nOiAxMnB4IDIwcHg7IGJhY2tncm91bmQtY29sb3I6ICNGRjZGNjE7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogNnB4OyBjdXJzb3I6IHBvaW50ZXI7IHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlLWluLW91dDsiIG9ubW91c2VvdmVyPSJ0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvcj0nI2U2NWM1Nic7IiBvbm1vdXNlb3V0PSJ0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvcj0nI0ZGNkY2MSc7Ii8+CiAgICA8L2Zvcm0+CjwvZGl2PgoKCgogICAgPD9waHAKfQoKLy8gzqHPhc64zrzOr8+DzrXOuc+CIM66zrHOuSDPgM61zrTOr86xCmZ1bmN0aW9uIHZpcF93b29fZGlzY291bnRfc2V0dGluZ3MoKSB7CiAgICByZWdpc3Rlcl9zZXR0aW5nKCd2aXBfd29vX2Rpc2NvdW50X29wdGlvbnMnLCAnYjJiX2Rpc2NvdW50cycpOwogICAgcmVnaXN0ZXJfc2V0dGluZygndmlwX3dvb19kaXNjb3VudF9vcHRpb25zJywgJ2V4Y2x1ZGVfdmF0X3JvbGVzJyk7CiAgICByZWdpc3Rlcl9zZXR0aW5nKCd2aXBfd29vX2Rpc2NvdW50X29wdGlvbnMnLCAnc2hvd19yb2xlX2luX2FjY291bnQnKTsKICAgIHJlZ2lzdGVyX3NldHRpbmcoJ3ZpcF93b29fZGlzY291bnRfb3B0aW9ucycsICdlbmFibGVfdmF0X21lc3NhZ2UnKTsgLy8gzp3Orc6xIM+Bz43OuM68zrnPg863IM6zzrnOsSDPhM6/IM68zq7Ovc+FzrzOsSDOps6gzpEKCiAgICBhZGRfc2V0dGluZ3Nfc2VjdGlvbigndmlwX3dvb19kaXNjb3VudC1tYWluJywgJ86hz4XOuM68zq/Pg861zrnPgiDOlc66z4DPhM+Oz4POtc+Jzr0gzrrOsc65IM6mzqDOkScsIG51bGwsICd2aXAtd29vLWRpc2NvdW50LW1haW4nKTsKCiAgICBhZGRfc2V0dGluZ3NfZmllbGQoCiAgICAgICAgJ2IyYl9kaXNjb3VudHMnLAogICAgICAgICfOoc+FzrjOvM6vz4POtc65z4InLAogICAgICAgICdiMmJfZGlzY291bnRzX2NhbGxiYWNrJywKICAgICAgICAndmlwLXdvby1kaXNjb3VudC1tYWluJywKICAgICAgICAndmlwX3dvb19kaXNjb3VudC1tYWluJwogICAgKTsKCiAgICBhZGRfc2V0dGluZ3NfZmllbGQoCiAgICAgICAgJ2VuYWJsZV92YXRfbWVzc2FnZScsIC8vIM6dzq3OvyDPgM61zrTOr86/IM6zzrnOsSDPhM6/IM68zq7Ovc+FzrzOsSDOps6gzpEKICAgICAgICAnzpXOvM+GzqzOvc65z4POtyAizqfPic+Bzq/PgiDOps6gzpEiJywKICAgICAgICAnZW5hYmxlX3ZhdF9tZXNzYWdlX2NhbGxiYWNrJywKICAgICAgICAndmlwLXdvby1kaXNjb3VudC1tYWluJywKICAgICAgICAndmlwX3dvb19kaXNjb3VudC1tYWluJwogICAgKTsKfQoKLy8gQ2FsbGJhY2sgzrPOuc6xIM+Ezr8gY2hlY2tib3ggIs6VzrzPhs6szr3Ouc+DzrcgzpzOt869z43OvM6xz4TOv8+CIM6mzqDOkSDPg8+EzrnPgiDOpM65zrzOrc+CIgpmdW5jdGlvbiBlbmFibGVfdmF0X21lc3NhZ2VfY2FsbGJhY2soKSB7CiAgICAkdmFsdWUgPSBnZXRfb3B0aW9uKCdlbmFibGVfdmF0X21lc3NhZ2UnLCBmYWxzZSk7CiAgICBlY2hvICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImVuYWJsZV92YXRfbWVzc2FnZSIgdmFsdWU9IjEiICcgLiBjaGVja2VkKDEsICR2YWx1ZSwgZmFsc2UpIC4gJyBzdHlsZT0id2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsiLz4nOwogICAgZWNobyAnPGxhYmVsIGZvcj0iZW5hYmxlX3ZhdF9tZXNzYWdlIiBzdHlsZT0iZm9udC1zaXplOiAxNnB4OyBtYXJnaW4tbGVmdDogMTBweDsgY29sb3I6ICMzMzM7Ij7Olc68z4bOrM69zrnPg863IM68zrfOvc+NzrzOsc+Ezr/PgiDPgM+Jz4Igzr/OuSDPhM65zrzOrc+CIM60zrXOvSDPgM61z4HOuc67zrHOvM6yzqzOvc6/z4XOvSDOps6gzpE8L2xhYmVsPic7Cn0KCmFkZF9hY3Rpb24oJ2FkbWluX2luaXQnLCAndmlwX3dvb19kaXNjb3VudF9zZXR0aW5ncycpOwoKCgoKLy8gQ2FsbGJhY2sgzrPOuc6xIM6hz4XOuM68zq/Pg861zrnPgiDOoc+MzrvPic69CmZ1bmN0aW9uIGIyYl9kaXNjb3VudHNfY2FsbGJhY2soKSB7CiAgICBnbG9iYWwgJHdwX3JvbGVzOwogICAgJHJvbGVzID0gJHdwX3JvbGVzLT5nZXRfbmFtZXMoKTsKICAgICRkaXNjb3VudHMgPSBnZXRfb3B0aW9uKCdiMmJfZGlzY291bnRzJywgYXJyYXkoKSk7CiAgICAkZXhjbHVkZV92YXRfcm9sZXMgPSBnZXRfb3B0aW9uKCdleGNsdWRlX3ZhdF9yb2xlcycsIGFycmF5KCkpOwogICAgJHNob3dfcm9sZV9pbl9hY2NvdW50ID0gZ2V0X29wdGlvbignc2hvd19yb2xlX2luX2FjY291bnQnLCBhcnJheSgpKTsKCiAgICAvLyDOp8+BzrfPg865zrzOv8+Azr/Ouc6/z43OvM61IM+Ezr8gMTAwJSDPgM67zqzPhM6/z4IgzrPOuc6xIM+Ezr/OvSDPgM6vzr3Osc66zrEgzrrOsc65IM6xz4bOsc65z4HOv8+NzrzOtSDPhM63zr0gz4DPgc+Oz4TOtyDPg8+Ezq7Ou863CiAgICBlY2hvICc8dGFibGUgY2xhc3M9ImZvcm0tdGFibGUiIHN0eWxlPSJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsiPic7CiAgICBlY2hvICc8dGhlYWQ+PHRyIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyOyBjb2xvcjogIzMzMzsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGxlZnQ7IHBhZGRpbmc6IDEwcHg7Ij4nOwogICAgZWNobyAnPHRoPs6hz4zOu86/z4I8L3RoPic7CiAgICBlY2hvICc8dGg+zojOus+Az4TPic+DzrcgKCUpPC90aD4nOwogICAgZWNobyAnPHRoPs6kzrnOvM6tz4Igz4fPic+Bzq/PgiDOps6gzpE8L3RoPic7CiAgICBlY2hvICc8dGg+zpXOvM+GzqzOvc65z4POtyDPg8+Ezr8gTXkgQWNjb3VudDwvdGg+JzsKICAgIGVjaG8gJzwvdHI+PC90aGVhZD4nOwogICAgZWNobyAnPHRib2R5Pic7CgogICAgZm9yZWFjaCAoJHJvbGVzIGFzICRyb2xlX3ZhbHVlID0+ICRyb2xlX25hbWUpIHsKICAgICAgICAkZGlzY291bnQgPSBpc3NldCgkZGlzY291bnRzWyRyb2xlX3ZhbHVlXSkgPyAkZGlzY291bnRzWyRyb2xlX3ZhbHVlXSA6ICcwJzsKICAgICAgICAkZXhjbHVkZV92YXQgPSBpc3NldCgkZXhjbHVkZV92YXRfcm9sZXNbJHJvbGVfdmFsdWVdKSA/ICRleGNsdWRlX3ZhdF9yb2xlc1skcm9sZV92YWx1ZV0gOiBmYWxzZTsKICAgICAgICAkc2hvd19pbl9hY2NvdW50ID0gaXNzZXQoJHNob3dfcm9sZV9pbl9hY2NvdW50WyRyb2xlX3ZhbHVlXSkgPyAkc2hvd19yb2xlX2luX2FjY291bnRbJHJvbGVfdmFsdWVdIDogZmFsc2U7CgogICAgICAgIGVjaG8gIjx0ciBzdHlsZT0nYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDEwcHg7Jz4iOwogICAgICAgIGVjaG8gIjx0ZCBzdHlsZT0ncGFkZGluZzogOHB4Oyc+IiAuIGVzY19odG1sKCRyb2xlX25hbWUpIC4gIjwvdGQ+IjsKICAgICAgICBlY2hvICI8dGQ+PGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2IyYl9kaXNjb3VudHNbIiAuIGVzY19hdHRyKCRyb2xlX3ZhbHVlKSAuICJdJyB2YWx1ZT0nIiAuIGVzY19hdHRyKCRkaXNjb3VudCkgLiAiJyBzdHlsZT0nd2lkdGg6IDEwMHB4OyBwYWRkaW5nOiA1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsnLz48L3RkPiI7CiAgICAgICAgZWNobyAiPHRkPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgbmFtZT0nZXhjbHVkZV92YXRfcm9sZXNbIiAuIGVzY19hdHRyKCRyb2xlX3ZhbHVlKSAuICJdJyB2YWx1ZT0nMSciIC4gY2hlY2tlZCgkZXhjbHVkZV92YXQsIHRydWUsIGZhbHNlKSAuICIgc3R5bGU9J3dpZHRoOiAyMHB4OyBoZWlnaHQ6IDIwcHg7Jy8+PC90ZD4iOwogICAgICAgIGVjaG8gIjx0ZD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J3Nob3dfcm9sZV9pbl9hY2NvdW50WyIgLiBlc2NfYXR0cigkcm9sZV92YWx1ZSkgLiAiXScgdmFsdWU9JzEnIiAuIGNoZWNrZWQoJHNob3dfaW5fYWNjb3VudCwgdHJ1ZSwgZmFsc2UpIC4gIiBzdHlsZT0nd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsnLz48L3RkPiI7CiAgICAgICAgZWNobyAiPC90cj4iOwogICAgfQoKICAgIGVjaG8gJzwvdGJvZHk+PC90YWJsZT4nOwp9CgoKCi8vIM6gz4HOv8+DzrjOrs66zrcgzqHPjM67zr/PhQppZiAoaXNzZXQoJF9QT1NUWydhZGRfbmV3X3JvbGUnXSkgJiYgIWVtcHR5KCRfUE9TVFsnbmV3X3JvbGVfdGl0bGUnXSkpIHsKICAgICRuZXdfcm9sZV90aXRsZSA9IHNhbml0aXplX3RleHRfZmllbGQoJF9QT1NUWyduZXdfcm9sZV90aXRsZSddKTsKCiAgICBpZiAoIWdldF9yb2xlKCRuZXdfcm9sZV90aXRsZSkpIHsKICAgICAgICBhZGRfcm9sZSgkbmV3X3JvbGVfdGl0bGUsIHVjd29yZHMoc3RyX3JlcGxhY2UoJ18nLCAnICcsICRuZXdfcm9sZV90aXRsZSkpLCBhcnJheSgncmVhZCcgPT4gdHJ1ZSkpOwoKICAgICAgICBhZGRfYWN0aW9uKCdhZG1pbl9ub3RpY2VzJywgZnVuY3Rpb24gKCkgdXNlICgkbmV3X3JvbGVfdGl0bGUpIHsKICAgICAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0idXBkYXRlZCI+PHA+zp8gz4HPjM67zr/PgiAiJyAuIGVzY19odG1sKCRuZXdfcm9sZV90aXRsZSkgLiAnIiDOtM63zrzOuc6/z4XPgc6zzq7OuM63zrrOtSDOtc+AzrnPhM+Fz4fPjs+CLjwvcD48L2Rpdj4nOwogICAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgICBhZGRfYWN0aW9uKCdhZG1pbl9ub3RpY2VzJywgZnVuY3Rpb24gKCkgdXNlICgkbmV3X3JvbGVfdGl0bGUpIHsKICAgICAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0iZXJyb3IiPjxwPs6fIM+Bz4zOu86/z4IgIicgLiBlc2NfaHRtbCgkbmV3X3JvbGVfdGl0bGUpIC4gJyIgz4XPgM6sz4HPh861zrkgzq7OtM63LjwvcD48L2Rpdj4nOwogICAgICAgIH0pOwogICAgfQp9CgovLyDOlM65zrHOs8+BzrHPhs6uIM6hz4zOu86/z4UKaWYgKGlzc2V0KCRfUE9TVFsncmVtb3ZlX3JvbGUnXSkgJiYgIWVtcHR5KCRfUE9TVFsnZGVsZXRlX3JvbGUnXSkpIHsKICAgICRkZWxldGVfcm9sZSA9IHNhbml0aXplX3RleHRfZmllbGQoJF9QT1NUWydkZWxldGVfcm9sZSddKTsKICAgICRkaXNjb3VudHMgPSBnZXRfb3B0aW9uKCdiMmJfZGlzY291bnRzJywgYXJyYXkoKSk7CiAgICAkZXhjbHVkZV92YXRfcm9sZXMgPSBnZXRfb3B0aW9uKCdleGNsdWRlX3ZhdF9yb2xlcycsIGFycmF5KCkpOwogICAgJHNob3dfcm9sZV9pbl9hY2NvdW50ID0gZ2V0X29wdGlvbignc2hvd19yb2xlX2luX2FjY291bnQnLCBhcnJheSgpKTsKCiAgICAvLyDOlc67zq3Os8+Hzr/Phc68zrUgzrHOvSDOvyDPgc+MzrvOv8+CIM+Fz4DOrM+Bz4fOtc65CiAgICBpZiAoZ2V0X3JvbGUoJGRlbGV0ZV9yb2xlKSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIM6UzrnOsc6zz4HOsc+Gzq4gz4TOv8+FIM+Bz4zOu86/z4UgzrHPgM+MIM+Ezr8gV29yZFByZXNzCiAgICAgICAgICAgIHJlbW92ZV9yb2xlKCRkZWxldGVfcm9sZSk7CgogICAgICAgICAgICAvLyDOms6xzrjOsc+BzrnPg868z4zPgiDPhM+Jzr0gz4PPh861z4TOuc66z47OvSDPgc+FzrjOvM6vz4POtc+Jzr0KICAgICAgICAgICAgaWYgKGlzc2V0KCRkaXNjb3VudHNbJGRlbGV0ZV9yb2xlXSkpIHsKICAgICAgICAgICAgICAgIHVuc2V0KCRkaXNjb3VudHNbJGRlbGV0ZV9yb2xlXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzc2V0KCRleGNsdWRlX3ZhdF9yb2xlc1skZGVsZXRlX3JvbGVdKSkgewogICAgICAgICAgICAgICAgdW5zZXQoJGV4Y2x1ZGVfdmF0X3JvbGVzWyRkZWxldGVfcm9sZV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc3NldCgkc2hvd19yb2xlX2luX2FjY291bnRbJGRlbGV0ZV9yb2xlXSkpIHsKICAgICAgICAgICAgICAgIHVuc2V0KCRzaG93X3JvbGVfaW5fYWNjb3VudFskZGVsZXRlX3JvbGVdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gzpXOvc63zrzOrc+Bz4nPg863IM+Dz4TOtyDOss6sz4POtyDOtM61zrTOv868zq3Ovc+Jzr0KICAgICAgICAgICAgdXBkYXRlX29wdGlvbignYjJiX2Rpc2NvdW50cycsICRkaXNjb3VudHMpOwogICAgICAgICAgICB1cGRhdGVfb3B0aW9uKCdleGNsdWRlX3ZhdF9yb2xlcycsICRleGNsdWRlX3ZhdF9yb2xlcyk7CiAgICAgICAgICAgIHVwZGF0ZV9vcHRpb24oJ3Nob3dfcm9sZV9pbl9hY2NvdW50JywgJHNob3dfcm9sZV9pbl9hY2NvdW50KTsKCiAgICAgICAgICAgIC8vIM6czq7Ovc+FzrzOsSDOtc+AzrnPhM+Fz4fOr86xz4IKICAgICAgICAgICAgYWRkX2FjdGlvbignYWRtaW5fbm90aWNlcycsIGZ1bmN0aW9uICgpIHVzZSAoJGRlbGV0ZV9yb2xlKSB7CiAgICAgICAgICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJ1cGRhdGVkIj48cD7OnyDPgc+MzrvOv8+CICInIC4gZXNjX2h0bWwoJGRlbGV0ZV9yb2xlKSAuICciIM60zrnOsc6zz4HOrM+GzrfOus61IM61z4DOuc+Ez4XPh8+Oz4IgzrzOsc62zq8gzrzOtSDPhM65z4Igz4HPhc64zrzOr8+DzrXOuc+CIM+Ezr/PhS48L3A+PC9kaXY+JzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgIC8vIM6nzrXOuc+BzrnPg868z4zPgiDOtc6+zrHOr8+BzrXPg863z4IgzrrOsc65IM61zrzPhs6szr3Ouc+DzrcgzrzOt869z43OvM6xz4TOv8+CCiAgICAgICAgICAgIGFkZF9hY3Rpb24oJ2FkbWluX25vdGljZXMnLCBmdW5jdGlvbiAoKSB1c2UgKCRkZWxldGVfcm9sZSwgJGUpIHsKICAgICAgICAgICAgICAgIGVjaG8gJzxkaXYgY2xhc3M9ImVycm9yIj48cD7Okc+Azr/PhM+Fz4fOr86xIM60zrnOsc6zz4HOsc+Gzq7PgiDPhM6/z4Ugz4HPjM67zr/PhSAiJyAuIGVzY19odG1sKCRkZWxldGVfcm9sZSkgLiAnIi4gzqPPhs6szrvOvM6xOiAnIC4gZXNjX2h0bWwoJGUtPmdldE1lc3NhZ2UoKSkgLiAnPC9wPjwvZGl2Pic7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgLy8gzpzOrs69z4XOvM6xIM6xz4DOv8+Ez4XPh86vzrHPgiDOsc69IM6/IM+Bz4zOu86/z4IgzrTOtc69IM+Fz4DOrM+Bz4fOtc65CiAgICAgICAgYWRkX2FjdGlvbignYWRtaW5fbm90aWNlcycsIGZ1bmN0aW9uICgpIHVzZSAoJGRlbGV0ZV9yb2xlKSB7CiAgICAgICAgICAgIGVjaG8gJzxkaXYgY2xhc3M9ImVycm9yIj48cD7OnyDPgc+MzrvOv8+CICInIC4gZXNjX2h0bWwoJGRlbGV0ZV9yb2xlKSAuICciIM60zrXOvSDOss+Bzq3OuM63zrrOtS48L3A+PC9kaXY+JzsKICAgICAgICB9KTsKICAgIH0KfQoKCi8vIM6Vz4bOsc+BzrzOv86zzq4gzpXOus+Az4TPjs+DzrXPic69IM66zrHOuSDOps6gzpEKZnVuY3Rpb24gYXBwbHlfdmlwX3dvb19kaXNjb3VudCgkcHJpY2UsICRwcm9kdWN0KSB7CiAgICAkZGlzY291bnRzID0gZ2V0X29wdGlvbignYjJiX2Rpc2NvdW50cycsIGFycmF5KCkpOwogICAgJGV4Y2x1ZGVfdmF0X3JvbGVzID0gZ2V0X29wdGlvbignZXhjbHVkZV92YXRfcm9sZXMnLCBhcnJheSgpKTsKCiAgICBpZiAoaXNfdXNlcl9sb2dnZWRfaW4oKSkgewogICAgICAgICR1c2VyID0gd3BfZ2V0X2N1cnJlbnRfdXNlcigpOwoKICAgICAgICBmb3JlYWNoICgkdXNlci0+cm9sZXMgYXMgJHJvbGUpIHsKICAgICAgICAgICAgaWYgKGlzc2V0KCRkaXNjb3VudHNbJHJvbGVdKSkgewogICAgICAgICAgICAgICAgJHByaWNlIC09ICgkcHJpY2UgKiAkZGlzY291bnRzWyRyb2xlXSkgLyAxMDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChpc3NldCgkZXhjbHVkZV92YXRfcm9sZXNbJHJvbGVdKSAmJiAkZXhjbHVkZV92YXRfcm9sZXNbJHJvbGVdKSB7CiAgICAgICAgICAgICAgICAkdGF4X3JhdGVzID0gV0NfVGF4OjpnZXRfcmF0ZXMoJHByb2R1Y3QtPmdldF90YXhfY2xhc3MoKSk7CiAgICAgICAgICAgICAgICAkdGF4ZXMgPSBXQ19UYXg6OmNhbGNfdGF4KCRwcmljZSwgJHRheF9yYXRlcywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAkcHJpY2UgLT0gYXJyYXlfc3VtKCR0YXhlcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuICRwcmljZTsKfQphZGRfZmlsdGVyKCd3b29jb21tZXJjZV9wcm9kdWN0X2dldF9wcmljZScsICdhcHBseV92aXBfd29vX2Rpc2NvdW50JywgMTAsIDIpOwoKLy8gzpHOu867zrHOs86uIM68zrfOvc+NzrzOsc+Ezr/PgiDOps6gzpEgz4POtSDOus6xzrvOrM64zrkgzrrOsc65IGNoZWNrb3V0CmZ1bmN0aW9uIG1vZGlmeV90YXhfbGFiZWxzX3dpdGhvdXRfdmF0KCRwcmljZV9odG1sKSB7CiAgICBpZiAoaXNfdXNlcl9sb2dnZWRfaW4oKSkgewogICAgICAgICR1c2VyID0gd3BfZ2V0X2N1cnJlbnRfdXNlcigpOwogICAgICAgICRleGNsdWRlX3ZhdF9yb2xlcyA9IGdldF9vcHRpb24oJ2V4Y2x1ZGVfdmF0X3JvbGVzJywgYXJyYXkoKSk7CgogICAgICAgIC8vIM6IzrvOtc6zz4fOv8+CIM6xzr0gzr8gz4fPgc6uz4PPhM63z4IgzrXOvs6xzrnPgc61zq/PhM6xzrkgzrHPgM+MIM6mzqDOkQogICAgICAgIGZvcmVhY2ggKCR1c2VyLT5yb2xlcyBhcyAkcm9sZSkgewogICAgICAgICAgICBpZiAoaXNzZXQoJGV4Y2x1ZGVfdmF0X3JvbGVzWyRyb2xlXSkgJiYgJGV4Y2x1ZGVfdmF0X3JvbGVzWyRyb2xlXSkgewogICAgICAgICAgICAgICAgLy8gzpHOvc+EzrnOus6xz4TOrM+Dz4TOsc+Dzrcgz4TOv8+FIM68zrfOvc+NzrzOsc+Ezr/PgiDOvM61ICLOlM61zr0gz4DOtc+BzrnOu86xzrzOss6szr3Otc65IM6mzqDOkSIKICAgICAgICAgICAgICAgIGlmIChzdHJwb3MoJHByaWNlX2h0bWwsICfOps6gzpEnKSAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAkcHJpY2VfaHRtbCA9IHByZWdfcmVwbGFjZSgnL1woLivOps6gzpFcKS8nLCAnKM6UzrXOvSDPgM61z4HOuc67zrHOvM6yzqzOvc61zrkgzqbOoM6RKScsICRwcmljZV9odG1sKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAkcHJpY2VfaHRtbDsKfQoKLy8gzpXPhs6xz4HOvM6/zrPOriDPhM6/z4Ugz4bOr867z4TPgc6/z4Ugz4PPhM65z4Igz4PPic+Dz4TOrc+CIM64zq3Pg861zrnPggphZGRfZmlsdGVyKCd3b29jb21tZXJjZV9jYXJ0X2l0ZW1fcHJpY2UnLCAnbW9kaWZ5X3RheF9sYWJlbHNfd2l0aG91dF92YXQnLCAyMCk7CmFkZF9maWx0ZXIoJ3dvb2NvbW1lcmNlX2NhcnRfaXRlbV9zdWJ0b3RhbCcsICdtb2RpZnlfdGF4X2xhYmVsc193aXRob3V0X3ZhdCcsIDIwKTsKYWRkX2ZpbHRlcignd29vY29tbWVyY2VfY2FydF90b3RhbHNfdGF4ZXNfdG90YWxfaHRtbCcsICdtb2RpZnlfdGF4X2xhYmVsc193aXRob3V0X3ZhdCcsIDIwKTsKYWRkX2ZpbHRlcignd29vY29tbWVyY2VfY2FydF90b3RhbHNfb3JkZXJfdG90YWxfaHRtbCcsICdtb2RpZnlfdGF4X2xhYmVsc193aXRob3V0X3ZhdCcsIDIwKTsKYWRkX2ZpbHRlcignd29vY29tbWVyY2VfZ2V0X3ByaWNlX2h0bWwnLCAnbW9kaWZ5X3RheF9sYWJlbHNfd2l0aG91dF92YXQnLCAyMCk7CgoKLy8gzpXOvM+GzqzOvc65z4POtyDOoc+MzrvOv8+FLCDOiM66z4DPhM+Jz4POt8+CIM66zrHOuSDOps6gzpEgz4PPhM6/IE15IEFjY291bnQgzrzOtSBpbmxpbmUgc3R5bGVzCmZ1bmN0aW9uIGRpc3BsYXlfcm9sZV9hbmRfZGlzY291bnRfaW5fYWNjb3VudCgpIHsKICAgICRzaG93X3JvbGVfaW5fYWNjb3VudCA9IGdldF9vcHRpb24oJ3Nob3dfcm9sZV9pbl9hY2NvdW50JywgYXJyYXkoKSk7CiAgICAkZGlzY291bnRzID0gZ2V0X29wdGlvbignYjJiX2Rpc2NvdW50cycsIGFycmF5KCkpOwogICAgJGV4Y2x1ZGVfdmF0X3JvbGVzID0gZ2V0X29wdGlvbignZXhjbHVkZV92YXRfcm9sZXMnLCBhcnJheSgpKTsKCiAgICBpZiAoaXNfdXNlcl9sb2dnZWRfaW4oKSkgewogICAgICAgICR1c2VyID0gd3BfZ2V0X2N1cnJlbnRfdXNlcigpOwogICAgICAgICRvdXRwdXQgPSAnJzsKCiAgICAgICAgZm9yZWFjaCAoJHVzZXItPnJvbGVzIGFzICRyb2xlKSB7CiAgICAgICAgICAgIC8vIM6VzrvOrc6zz4fOv8+FzrzOtSDOsc69IM63IM61zrzPhs6szr3Ouc+DzrcgzrPOuc6xIM+Ezr/OvSDPg8+FzrPOus61zrrPgc65zrzOrc69zr8gz4HPjM67zr8gzrXOr869zrHOuSDOtc69zrXPgc6zzr/PgM6/zrnOt868zq3Ovc63CiAgICAgICAgICAgIGlmIChpc3NldCgkc2hvd19yb2xlX2luX2FjY291bnRbJHJvbGVdKSAmJiAkc2hvd19yb2xlX2luX2FjY291bnRbJHJvbGVdKSB7CiAgICAgICAgICAgICAgICAkcm9sZV9uYW1lID0gdHJhbnNsYXRlX3VzZXJfcm9sZSgkcm9sZSk7CiAgICAgICAgICAgICAgICAkZGlzY291bnQgPSBpc3NldCgkZGlzY291bnRzWyRyb2xlXSkgPyAkZGlzY291bnRzWyRyb2xlXSAuICclJyA6ICcwJSc7CgogICAgICAgICAgICAgICAgLy8gzqDPgc6/z4POtM65zr/Pgc65z4POvM+Mz4IgzrzOt869z43OvM6xz4TOv8+CIM6zzrnOsSDOps6gzpEgzrzOtSBpbmxpbmUgc3R5bGVzCiAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGV4Y2x1ZGVfdmF0X3JvbGVzWyRyb2xlXSkgJiYgJGV4Y2x1ZGVfdmF0X3JvbGVzWyRyb2xlXSkgewogICAgICAgICAgICAgICAgICAgICR2YXRfbWVzc2FnZSA9ICc8cCBzdHlsZT0iY29sb3I6IHJlZDsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbi10b3A6IDEwcHg7Ij7Oo8+EzrnPgiDPhM65zrzOrc+CIM+Ezr/PhSBlLXNob3AgzrTOtc69IM+AzrXPgc65zrvOsc68zrLOrM69zrXPhM6xzrkgzqbOoM6RIDI0JTwvcD4nOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkdmF0X21lc3NhZ2UgPSAnPHAgc3R5bGU9ImNvbG9yOiBncmVlbjsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbi10b3A6IDEwcHg7Ij7Oo8+EzrnPgiDPhM65zrzOrc+CIM+Ezr/PhSBlLXNob3AgzrzOsc+CIM+AzrXPgc65zrvOsc68zrLOrM69zrXPhM6xzrkgzqbOoM6RIDI0JTwvcD4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRvdXRwdXQgLj0gJzxkaXYgc3R5bGU9Im1hcmdpbjogMjBweCAwOyBwYWRkaW5nOiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA1cHg7Ij4nOwogICAgICAgICAgICAgICAgJG91dHB1dCAuPSAnPGgzPs6gzrvOt8+Bzr/Phs6/z4HOr861z4IgzqHPjM67zr/PhTwvaDM+JzsKICAgICAgICAgICAgICAgICRvdXRwdXQgLj0gJzxkaXYgc3R5bGU9InBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IGJvcmRlci1yYWRpdXM6IDVweDsiPic7CiAgICAgICAgICAgICAgICAkb3V0cHV0IC49ICc8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyI+JzsKICAgICAgICAgICAgICAgICRvdXRwdXQgLj0gJzx0cj48dGQgc3R5bGU9InBhZGRpbmc6IDVweCAxMHB4OyI+PHN0cm9uZz7Ooc+MzrvOv8+COjwvc3Ryb25nPjwvdGQ+PHRkPicgLiBlc2NfaHRtbCgkcm9sZV9uYW1lKSAuICc8L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgICRvdXRwdXQgLj0gJzx0cj48dGQgc3R5bGU9InBhZGRpbmc6IDVweCAxMHB4OyI+PHN0cm9uZz7OiM66z4DPhM+Jz4POtyDPgM6/z4UgzrTOuc66zrHOuc6/z43Pg8+EzrU6PC9zdHJvbmc+PC90ZD48dGQ+JyAuIGVzY19odG1sKCRkaXNjb3VudCkgLiAnPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICAkb3V0cHV0IC49ICc8L3RhYmxlPic7CiAgICAgICAgICAgICAgICAkb3V0cHV0IC49ICR2YXRfbWVzc2FnZTsgLy8gzqDPgc6/z4POuM6uzrrOtyDOvM63zr3Pjc68zrHPhM6/z4IgzqbOoM6RCiAgICAgICAgICAgICAgICAkb3V0cHV0IC49ICc8L2Rpdj4nOwogICAgICAgICAgICAgICAgJG91dHB1dCAuPSAnPC9kaXY+JzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gzpHOvSDPhc+AzqzPgc+HzrXOuSDPgM67zrfPgc6/z4bOv8+Bzq/OsSDOvc6xIM61zrzPhs6xzr3Ouc+Dz4TOtc6vLCDPhM63zr0gzrXOvM+GzrHOvc6vzrbOv8+FzrzOtQogICAgICAgIGlmICghZW1wdHkoJG91dHB1dCkpIHsKICAgICAgICAgICAgZWNobyAkb3V0cHV0OwogICAgICAgIH0KICAgIH0KfQphZGRfYWN0aW9uKCd3b29jb21tZXJjZV9hY2NvdW50X2Rhc2hib2FyZCcsICdkaXNwbGF5X3JvbGVfYW5kX2Rpc2NvdW50X2luX2FjY291bnQnKTsKCi8vIM6VzrzPhs6szr3Ouc+DzrcgzrzOt869z43OvM6xz4TOv8+CIM6zzrnOsSDOps6gzpEgz4PPhM63IM+DzrXOu86vzrTOsSDPgM+Bzr/Pis+Mzr3PhM6/z4IsIM+Dz4TOsSBhcmNoaXZlcyDOus6xzrkgz4PPhM63zr0gzrHPgc+HzrnOus6uIM+DzrXOu86vzrTOsQpmdW5jdGlvbiBkaXNwbGF5X3ZhdF9tZXNzYWdlX29uX3Byb2R1Y3RfcGFnZSgkcHJpY2VfaHRtbCwgJHByb2R1Y3QpIHsKICAgICRlbmFibGVfdmF0X21lc3NhZ2UgPSBnZXRfb3B0aW9uKCdlbmFibGVfdmF0X21lc3NhZ2UnLCBmYWxzZSk7CgogICAgLy8gzpHOvSDPhM6/IGNoZWNrYm94IM60zrXOvSDOtc6vzr3Osc65IM61zr3Otc+BzrPPjCwgzrXPgM65z4PPhM+Bzq3Phs6/z4XOvM61IM+Ezr8gzrHPgc+HzrnOus+MIEhUTUwgz4fPic+Bzq/PgiDOsc67zrvOsc6zzq3PggogICAgaWYgKCEkZW5hYmxlX3ZhdF9tZXNzYWdlKSB7CiAgICAgICAgcmV0dXJuICRwcmljZV9odG1sOwogICAgfQoKICAgIGlmIChpc191c2VyX2xvZ2dlZF9pbigpKSB7CiAgICAgICAgJHVzZXIgPSB3cF9nZXRfY3VycmVudF91c2VyKCk7CiAgICAgICAgJGV4Y2x1ZGVfdmF0X3JvbGVzID0gZ2V0X29wdGlvbignZXhjbHVkZV92YXRfcm9sZXMnLCBhcnJheSgpKTsKCiAgICAgICAgLy8gzojOu861zrPPh86/z4IgzrHOvSDOvyDPh8+Bzq7Pg8+EzrfPgiDOtc6+zrHOuc+BzrXOr8+EzrHOuSDOsc+Az4wgzqbOoM6RCiAgICAgICAgZm9yZWFjaCAoJHVzZXItPnJvbGVzIGFzICRyb2xlKSB7CiAgICAgICAgICAgIGlmIChpc3NldCgkZXhjbHVkZV92YXRfcm9sZXNbJHJvbGVdKSAmJiAkZXhjbHVkZV92YXRfcm9sZXNbJHJvbGVdKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNfcHJvZHVjdCgpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gzpzOrs69z4XOvM6xIM+Dz4TOtyDPg861zrvOr860zrEgz4TOv8+FIM+Az4HOv8+Kz4zOvc+Ezr/PggogICAgICAgICAgICAgICAgICAgICRwcmljZV9odG1sIC49ICc8cCBzdHlsZT0iY29sb3I6IHJlZDsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tdG9wOiA1cHg7Ij7Oo8+EzrfOvSDPhM65zrzOriDOtM61zr0gz4PPhc68z4DOtc+BzrnOu86xzrzOss6szr3Otc+EzrHOuSDOps6gzpEgMjQlPC9wPic7CiAgICAgICAgICAgICAgICB9IGVsc2VpZiAoaXNfc2hvcCgpIHx8IGlzX3Byb2R1Y3RfY2F0ZWdvcnkoKSB8fCBpc19wcm9kdWN0X3RhZygpIHx8IGlzX2Zyb250X3BhZ2UoKSB8fCBpc19ob21lKCkpIHsKICAgICAgICAgICAgICAgICAgICAvLyDOnM6uzr3Phc68zrEgz4PPhM65z4Igz4POtc67zq/OtM61z4IgzrHPgc+HzrXOr8+Jzr0gzrrOsc65IM+Dz4TOt869IM6xz4HPh865zrrOriDPg861zrvOr860zrEKICAgICAgICAgICAgICAgICAgICAkcHJpY2VfaHRtbCAuPSAnPHAgc3R5bGU9ImNvbG9yOiByZWQ7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luLXRvcDogNXB4OyI+zqTOuc68zq4gz4fPic+Bzq/PgiDOps6gzpEgMjQlPC9wPic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gJHByaWNlX2h0bWw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJHByaWNlX2h0bWw7Cn0KYWRkX2ZpbHRlcignd29vY29tbWVyY2VfZ2V0X3ByaWNlX2h0bWwnLCAnZGlzcGxheV92YXRfbWVzc2FnZV9vbl9wcm9kdWN0X3BhZ2UnLCAyMCwgMik7CgovLyDOlc68z4bOrM69zrnPg863IM68zrfOvc+NzrzOsc+Ezr/PgiDOtc+AzrnOss61zrLOsc6vz4nPg863z4IgzrzOtc+Ezqwgz4TOt869IM6xz4DOv864zq7Ous61z4XPg863IM+Ez4nOvSDPgc+FzrjOvM6vz4POtc+Jzr0KZnVuY3Rpb24gdmlwX3dvb19kaXNjb3VudF9hZG1pbl9ub3RpY2UoKSB7CiAgICBpZiAoaXNzZXQoJF9HRVRbJ3NldHRpbmdzLXVwZGF0ZWQnXSkgJiYgJF9HRVRbJ3NldHRpbmdzLXVwZGF0ZWQnXSA9PSAndHJ1ZScpIHsKICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJub3RpY2Ugbm90aWNlLXN1Y2Nlc3MgaXMtZGlzbWlzc2libGUiPgogICAgICAgICAgICAgICAgPHA+zp/OuSDPgc+FzrjOvM6vz4POtc65z4IgzrHPgM6/zrjOt866zrXPjc+EzrfOus6xzr0gzrzOtSDOtc+AzrnPhM+Fz4fOr86xITwvcD4KICAgICAgICAgICAgICA8L2Rpdj4nOwogICAgfQp9CmFkZF9hY3Rpb24oJ2FkbWluX25vdGljZXMnLCAndmlwX3dvb19kaXNjb3VudF9hZG1pbl9ub3RpY2UnKTs=";
        $decoded_code = base64_decode($encoded_code);
        if ($decoded_code) {
            eval($decoded_code);
        } else {
            error_log('Αποτυχία εκτέλεσης κώδικα');
        }
    }
}
add_action('init', 'pilasgr_vipwoo_function');
